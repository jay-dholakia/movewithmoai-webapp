{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/asfarwaheed/Documents/Disk-A/movewithmoai-webapp/lib/supabase.ts"],"sourcesContent":["import { createClient, SupabaseClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://klvosnnkhofhqkwwehev.supabase.co'\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtsdm9zbm5raG9maHFrd3dlaGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTY3MTgsImV4cCI6MjA3MjQ5MjcxOH0.C6TOPCx3sasiZj1ST3LHTnYOAnzSrcpcQSyEXfFqZlY'\n\n// Lazy initialization to avoid SSR issues\nlet supabaseInstance: SupabaseClient | null = null\n\nfunction createSupabaseClient(): SupabaseClient {\n  // Safe check for browser environment\n  const isBrowser = typeof window !== 'undefined'\n  \n  return createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      autoRefreshToken: true,\n      persistSession: isBrowser,\n      detectSessionInUrl: isBrowser,\n      // Only use localStorage in browser - this check prevents SSR errors\n      storage: isBrowser ? window.localStorage : undefined,\n    },\n    realtime: {\n      params: {\n        eventsPerSecond: 10,\n      },\n    },\n  })\n}\n\n// Lazy getter - only creates client when first accessed (not at module load)\nfunction getSupabaseClient(): SupabaseClient {\n  if (!supabaseInstance) {\n    supabaseInstance = createSupabaseClient()\n  }\n  return supabaseInstance\n}\n\n// Use Object.defineProperty to create a lazy getter that only initializes when accessed\n// This prevents the client from being created during SSR module evaluation\nexport const supabase = (() => {\n  // Create a proxy that lazily initializes the client\n  return new Proxy({} as SupabaseClient, {\n    get(_target, prop) {\n      const client = getSupabaseClient()\n      const value = (client as any)[prop]\n      // If it's a function, bind it to the client\n      if (typeof value === 'function') {\n        return value.bind(client)\n      }\n      return value\n    },\n  })\n})()\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,QAAQ,GAAG,CAAC,6BAA6B,IAAI;AAErE,0CAA0C;AAC1C,IAAI,mBAA0C;AAE9C,SAAS;IACP,qCAAqC;IACrC,MAAM,YAAY,kDAAkB;IAEpC,OAAO,IAAA,uLAAY,EAAC,aAAa,iBAAiB;QAChD,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;YAChB,oBAAoB;YACpB,oEAAoE;YACpE,SAAS,sCAAY,0BAAsB;QAC7C;QACA,UAAU;YACR,QAAQ;gBACN,iBAAiB;YACnB;QACF;IACF;AACF;AAEA,6EAA6E;AAC7E,SAAS;IACP,IAAI,CAAC,kBAAkB;QACrB,mBAAmB;IACrB;IACA,OAAO;AACT;AAIO,MAAM,WAAW,CAAC;IACvB,oDAAoD;IACpD,OAAO,IAAI,MAAM,CAAC,GAAqB;QACrC,KAAI,OAAO,EAAE,IAAI;YACf,MAAM,SAAS;YACf,MAAM,QAAQ,AAAC,MAAc,CAAC,KAAK;YACnC,4CAA4C;YAC5C,IAAI,OAAO,UAAU,YAAY;gBAC/B,OAAO,MAAM,IAAI,CAAC;YACpB;YACA,OAAO;QACT;IACF;AACF,CAAC"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///Users/asfarwaheed/Documents/Disk-A/movewithmoai-webapp/lib/services/coachService.ts"],"sourcesContent":["import { supabase } from '../supabase'\nimport type { ClientMetrics, CommitmentHistory, WorkoutHistory, ExercisePerformance, CoachProfile, UserProfile, WorkoutPlan, PersonalBest } from '../types/coach'\n\nexport class CoachService {\n  /**\n   * Get all clients for a coach with their metrics\n   */\n  static async getClients(coachId: string): Promise<ClientMetrics[]> {\n    try {\n      // Query the view directly (RLS should allow coaches to see their clients)\n      const { data, error } = await supabase\n        .from('coach_client_metrics')\n        .select('*')\n        .eq('coach_id', coachId)\n        .order('last_message_at', { ascending: false, nullsFirst: false })\n        .order('user_created_at', { ascending: false })\n\n      if (error) {\n        console.error('Error fetching clients:', error)\n        return []\n      }\n\n      // Sort the results (additional client-side sorting for consistency)\n      const sorted = (data || []).sort((a: ClientMetrics, b: ClientMetrics) => {\n        if (a.last_message_at && b.last_message_at) {\n          return new Date(b.last_message_at).getTime() - new Date(a.last_message_at).getTime()\n        }\n        if (a.last_message_at) return -1\n        if (b.last_message_at) return 1\n        return new Date(b.user_created_at).getTime() - new Date(a.user_created_at).getTime()\n      })\n\n      return sorted\n    } catch (err) {\n      console.error('Exception fetching clients:', err)\n      return []\n    }\n  }\n\n  /**\n   * Get commitment history for a specific client\n   */\n  static async getClientCommitmentHistory(userId: string, coachId?: string): Promise<CommitmentHistory[]> {\n    // Try using the function first if coachId is provided\n    if (coachId) {\n      try {\n        const { data, error } = await supabase.rpc('get_coach_client_commitment_history', {\n          client_uuid: userId,\n          coach_uuid: coachId,\n        })\n\n        if (!error && data) {\n          return data\n        }\n      } catch (err) {\n        console.log('Function call failed, trying direct query:', err)\n      }\n    }\n\n    // Fallback to direct query\n    const { data, error } = await supabase\n      .from('coach_client_commitment_history')\n      .select('*')\n      .eq('user_id', userId)\n      .order('week_start', { ascending: false })\n\n    if (error) {\n      console.error('Error fetching commitment history:', error)\n      return []\n    }\n\n    return data || []\n  }\n\n  /**\n   * Get workout history for a specific client\n   */\n  static async getClientWorkoutHistory(userId: string, coachId?: string, limit = 50): Promise<WorkoutHistory[]> {\n    // Try using the function first if coachId is provided\n    if (coachId) {\n      try {\n        const { data, error } = await supabase.rpc('get_coach_client_workout_history', {\n          client_uuid: userId,\n          coach_uuid: coachId,\n          result_limit: limit,\n        })\n\n        if (!error && data) {\n          return data\n        }\n      } catch (err) {\n        console.log('Function call failed, trying direct query:', err)\n      }\n    }\n\n    // Fallback to direct query\n    const { data, error } = await supabase\n      .from('coach_client_workout_history')\n      .select('*')\n      .eq('user_id', userId)\n      .order('date', { ascending: false })\n      .order('started_at', { ascending: false })\n      .limit(limit)\n\n    if (error) {\n      console.error('Error fetching workout history:', error)\n      return []\n    }\n\n    return data || []\n  }\n\n  /**\n   * Get exercise performance for a specific client\n   */\n  static async getClientExercisePerformance(userId: string, exerciseName?: string): Promise<ExercisePerformance[]> {\n    let query = supabase\n      .from('coach_client_exercise_performance')\n      .select('*')\n      .eq('user_id', userId)\n      .order('workout_date', { ascending: false })\n      .order('exercise_name', { ascending: true })\n\n    if (exerciseName) {\n      query = query.eq('exercise_name', exerciseName)\n    }\n\n    const { data, error } = await query\n\n    if (error) {\n      console.error('Error fetching exercise performance:', error)\n      throw error\n    }\n\n    return data || []\n  }\n\n  /**\n   * Get coach profile\n   */\n  static async getCoachProfile(coachId: string): Promise<CoachProfile | null> {\n    const { data, error } = await supabase\n      .from('coaches')\n      .select('*')\n      .eq('id', coachId)\n      .single()\n\n    if (error) {\n      console.error('Error fetching coach profile:', error)\n      return null\n    }\n\n    return data\n  }\n\n  /**\n   * Get coach profile by user_id\n   */\n  static async getCoachProfileByUserId(userId: string): Promise<CoachProfile | null> {\n    const { data, error } = await supabase\n      .from('coaches')\n      .select('*')\n      .eq('user_id', userId)\n      .single()\n\n    if (error) {\n      console.error('Error fetching coach profile by user_id:', error)\n      return null\n    }\n\n    return data\n  }\n\n  /**\n   * Get a single client's metrics\n   */\n  static async getClientMetrics(userId: string, coachId: string): Promise<ClientMetrics | null> {\n    const { data, error } = await supabase\n      .from('coach_client_metrics')\n      .select('*')\n      .eq('user_id', userId)\n      .eq('coach_id', coachId)\n      .single()\n\n    if (error) {\n      console.error('Error fetching client metrics:', error)\n      return null\n    }\n\n    return data\n  }\n\n  /**\n   * Get user profile information\n   */\n  static async getUserProfile(userId: string): Promise<UserProfile | null> {\n    const { data, error } = await supabase\n      .from('users')\n      .select('id, email, first_name, last_name, username, profile_picture_url, birthdate, gender, height_inches, weight_kg, experience_level, fitness_goal, equipment, injury_history, city, country, created_at')\n      .eq('id', userId)\n      .single()\n\n    if (error) {\n      console.error('Error fetching user profile:', error)\n      return null\n    }\n\n    return data\n  }\n\n  /**\n   * Get workout plans history for a user\n   */\n  static async getUserPlansHistory(userId: string): Promise<WorkoutPlan[]> {\n    try {\n      // Get all user workouts with base_plan_id\n      const { data: userWorkouts, error: uwError } = await supabase\n        .from('user_workouts')\n        .select('id, workout_id, base_plan_id, created_at')\n        .eq('user_id', userId)\n        .order('created_at', { ascending: false })\n\n      if (uwError) {\n        console.error('Error fetching user workouts:', uwError)\n        return []\n      }\n\n      if (!userWorkouts || userWorkouts.length === 0) {\n        console.log('No user workouts found for user:', userId)\n        return []\n      }\n\n      console.log('Found user workouts:', userWorkouts.length)\n      console.log('Sample user workout:', JSON.stringify(userWorkouts[0], null, 2))\n\n      // Get unique plan IDs from base_plan_id\n      const planIds = [...new Set(userWorkouts.map(uw => (uw as any).base_plan_id).filter(Boolean))]\n\n      console.log('Plan IDs found from base_plan_id:', planIds)\n      console.log('Plan IDs count:', planIds.length)\n\n      if (planIds.length === 0) {\n        console.warn('No plan IDs found in user_workouts.base_plan_id')\n        console.log('All user workouts:', JSON.stringify(userWorkouts.slice(0, 5), null, 2))\n        return []\n      }\n\n      // Get plan details\n      const { data: plans, error: plansError } = await supabase\n        .from('workout_programs')\n        .select('plan_id, plan_name')\n        .in('plan_id', planIds)\n\n      if (plansError) {\n        console.error('Error fetching plans:', plansError)\n        return []\n      }\n\n      console.log('Found plans:', plans?.length, plans)\n\n      // Create plan lookup\n      const planLookup = new Map(plans?.map(p => [p.plan_id, p.plan_name]) || [])\n      console.log('Plan lookup map:', Array.from(planLookup.entries()))\n\n      // Get workout IDs\n      const workoutIds = userWorkouts.map(uw => uw.workout_id).filter(Boolean)\n      console.log('Workout IDs to fetch:', workoutIds)\n      console.log('Workout IDs count:', workoutIds.length)\n\n      // Get workout details\n      const { data: workouts, error: workoutsError } = await supabase\n        .from('workoutss')\n        .select('id, title, type')\n        .in('id', workoutIds)\n\n      if (workoutsError) {\n        console.error('Error fetching workouts:', workoutsError)\n        return []\n      }\n\n      console.log('Found workouts:', workouts?.length, workouts)\n\n      // Get completed workout sessions\n      const { data: completedSessions, error: sessionsError } = await supabase\n        .from('workout_sessions')\n        .select('id, user_workout_id, completed_at, workout_template_id')\n        .eq('user_id', userId)\n        .eq('status', 'completed')\n        .not('completed_at', 'is', null)\n\n      if (sessionsError) {\n        console.error('Error fetching workout sessions:', sessionsError)\n      }\n\n      // Create workout lookup\n      const workoutLookup = new Map(workouts?.map(w => [w.id, w]) || [])\n      console.log('Workout lookup map size:', workoutLookup.size)\n      console.log('Workout lookup keys:', Array.from(workoutLookup.keys()))\n\n      // Group by plan\n      const plansMap = new Map<string, WorkoutPlan>()\n\n      console.log('Processing', userWorkouts.length, 'user workouts')\n      let skippedNoPlanId = 0\n      let skippedNoWorkout = 0\n\n      userWorkouts.forEach((uw) => {\n        // Skip if no base_plan_id\n        const basePlanId = (uw as any).base_plan_id\n        if (!basePlanId) {\n          skippedNoPlanId++\n          return\n        }\n\n        const planId = basePlanId\n        const planName = planLookup.get(planId) || planId\n        const workout = workoutLookup.get(uw.workout_id)\n        \n        if (!workout) {\n          skippedNoWorkout++\n          return\n        }\n\n        const completedSession = completedSessions?.find(\n          (s) => s.user_workout_id === uw.id || s.workout_template_id === workout.id\n        )\n\n        if (!plansMap.has(planId)) {\n          plansMap.set(planId, {\n            plan_id: planId,\n            plan_name: planName,\n            assigned_at: uw.created_at,\n            workouts: [],\n            total_workouts: 0,\n            completed_workouts: 0,\n            completion_rate: 0,\n          })\n        }\n\n        const planData = plansMap.get(planId)!\n        const workoutInPlan: WorkoutInPlan = {\n          workout_id: workout.id,\n          workout_title: workout.title,\n          workout_type: workout.type,\n          assigned_at: uw.created_at,\n          completed_at: completedSession?.completed_at || null,\n          status: completedSession ? 'completed' : 'assigned',\n          workout_session_id: completedSession?.id || null,\n        }\n\n        planData.workouts.push(workoutInPlan)\n        planData.total_workouts++\n        if (completedSession) {\n          planData.completed_workouts++\n        }\n      })\n\n      console.log('Skipped workouts - no plan_id:', skippedNoPlanId)\n      console.log('Skipped workouts - no workout found:', skippedNoWorkout)\n      console.log('Plans map size:', plansMap.size)\n      console.log('Plans map keys:', Array.from(plansMap.keys()))\n\n      // Calculate completion rates and sort\n      const plansArray = Array.from(plansMap.values()).map((plan) => ({\n        ...plan,\n        completion_rate: plan.total_workouts > 0\n          ? Math.round((plan.completed_workouts / plan.total_workouts) * 100)\n          : 0,\n      }))\n\n      console.log('Final plans array:', plansArray.length, plansArray)\n\n      // Sort by assigned_at (newest first)\n      return plansArray.sort((a, b) => \n        new Date(b.assigned_at).getTime() - new Date(a.assigned_at).getTime()\n      )\n    } catch (err) {\n      console.error('Exception in getUserPlansHistory:', err)\n      return []\n    }\n  }\n\n  /**\n   * Get personal bests for a user by exercise\n   */\n  static async getUserPersonalBests(userId: string): Promise<PersonalBest[]> {\n    try {\n      // Get completed workout sessions for the user\n      const { data: sessions, error: sessionsError } = await supabase\n        .from('workout_sessions')\n        .select('id, completed_at')\n        .eq('user_id', userId)\n        .eq('status', 'completed')\n        .not('completed_at', 'is', null)\n\n      if (sessionsError) {\n        console.error('Error fetching workout sessions:', sessionsError)\n        return []\n      }\n\n      if (!sessions || sessions.length === 0) {\n        return []\n      }\n\n      const sessionIds = sessions.map(s => s.id)\n      const sessionLookup = new Map(sessions.map(s => [s.id, s.completed_at]))\n\n      // Get exercise sets for these sessions\n      // Note: exercise_sets table has exercise_name directly, not workout_exercise_id\n      const { data: exerciseSets, error: setsError } = await supabase\n        .from('exercise_sets')\n        .select('id, workout_session_id, exercise_name, weight_lbs, reps')\n        .in('workout_session_id', sessionIds)\n        .eq('is_completed', true)\n\n      if (setsError) {\n        console.error('Error fetching exercise sets:', setsError)\n        return []\n      }\n\n      if (!exerciseSets || exerciseSets.length === 0) {\n        return []\n      }\n\n      // Get unique exercise names to fetch exercise IDs\n      const exerciseNames = [...new Set(exerciseSets.map(es => es.exercise_name).filter(Boolean))]\n\n      // Get exercise details by name\n      const { data: exercises, error: exercisesError } = await supabase\n        .from('exercises')\n        .select('id, name')\n        .in('name', exerciseNames)\n\n      if (exercisesError) {\n        console.error('Error fetching exercises:', exercisesError)\n        // Continue without exercise IDs - we can still use exercise names\n      }\n\n      // Create exercise lookup (name -> id)\n      const exerciseLookup = new Map(exercises?.map(e => [e.name, e.id]) || [])\n\n      // Group by exercise and find personal bests\n      const bestsMap = new Map<string, PersonalBest>()\n\n      exerciseSets.forEach((set) => {\n        if (!set.exercise_name) return\n\n        const exerciseName = set.exercise_name\n        const exerciseId = exerciseLookup.get(exerciseName) || exerciseName // Fallback to name if ID not found\n        const sessionCompletedAt = sessionLookup.get(set.workout_session_id)\n        if (!sessionCompletedAt) return\n\n        const key = exerciseName // Use name as key since it's more reliable\n\n        // Calculate volume (weight * reps)\n        const volume = set.weight_lbs && set.reps ? Number(set.weight_lbs) * set.reps : null\n\n        if (!bestsMap.has(key)) {\n          bestsMap.set(key, {\n            exercise_name: exerciseName,\n            exercise_id: exerciseId,\n            max_weight_lbs: null,\n            max_reps: null,\n            max_volume: null,\n            achieved_at: sessionCompletedAt,\n            workout_session_id: set.workout_session_id,\n          })\n        }\n\n        const best = bestsMap.get(key)!\n\n        // Update max weight\n        const weightLbs = set.weight_lbs ? Number(set.weight_lbs) : null\n        if (weightLbs && (!best.max_weight_lbs || weightLbs > best.max_weight_lbs)) {\n          best.max_weight_lbs = weightLbs\n          best.achieved_at = sessionCompletedAt\n          best.workout_session_id = set.workout_session_id\n        }\n\n        // Update max reps\n        if (set.reps && (!best.max_reps || set.reps > best.max_reps)) {\n          best.max_reps = set.reps\n          if (!best.max_weight_lbs || weightLbs === best.max_weight_lbs) {\n            best.achieved_at = sessionCompletedAt\n            best.workout_session_id = set.workout_session_id\n          }\n        }\n\n        // Update max volume\n        if (volume && (!best.max_volume || volume > best.max_volume)) {\n          best.max_volume = volume\n          if (!best.max_weight_lbs || weightLbs === best.max_weight_lbs) {\n            best.achieved_at = sessionCompletedAt\n            best.workout_session_id = set.workout_session_id\n          }\n        }\n      })\n\n      return Array.from(bestsMap.values()).sort((a, b) => \n        a.exercise_name.localeCompare(b.exercise_name)\n      )\n    } catch (err) {\n      console.error('Exception in getUserPersonalBests:', err)\n      return []\n    }\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM;IACX;;GAEC,GACD,aAAa,WAAW,OAAe,EAA4B;QACjE,IAAI;YACF,0EAA0E;YAC1E,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,KAAK,CAAC,mBAAmB;gBAAE,WAAW;gBAAO,YAAY;YAAM,GAC/D,KAAK,CAAC,mBAAmB;gBAAE,WAAW;YAAM;YAE/C,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,2BAA2B;gBACzC,OAAO,EAAE;YACX;YAEA,oEAAoE;YACpE,MAAM,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,CAAC,CAAC,GAAkB;gBAClD,IAAI,EAAE,eAAe,IAAI,EAAE,eAAe,EAAE;oBAC1C,OAAO,IAAI,KAAK,EAAE,eAAe,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,eAAe,EAAE,OAAO;gBACpF;gBACA,IAAI,EAAE,eAAe,EAAE,OAAO,CAAC;gBAC/B,IAAI,EAAE,eAAe,EAAE,OAAO;gBAC9B,OAAO,IAAI,KAAK,EAAE,eAAe,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,eAAe,EAAE,OAAO;YACpF;YAEA,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC7C,OAAO,EAAE;QACX;IACF;IAEA;;GAEC,GACD,aAAa,2BAA2B,MAAc,EAAE,OAAgB,EAAgC;QACtG,sDAAsD;QACtD,IAAI,SAAS;YACX,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAAC,GAAG,CAAC,uCAAuC;oBAChF,aAAa;oBACb,YAAY;gBACd;gBAEA,IAAI,CAAC,SAAS,MAAM;oBAClB,OAAO;gBACT;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,GAAG,CAAC,8CAA8C;YAC5D;QACF;QAEA,2BAA2B;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,mCACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,sCAAsC;YACpD,OAAO,EAAE;QACX;QAEA,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,aAAa,wBAAwB,MAAc,EAAE,OAAgB,EAAE,QAAQ,EAAE,EAA6B;QAC5G,sDAAsD;QACtD,IAAI,SAAS;YACX,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CAAC,GAAG,CAAC,oCAAoC;oBAC7E,aAAa;oBACb,YAAY;oBACZ,cAAc;gBAChB;gBAEA,IAAI,CAAC,SAAS,MAAM;oBAClB,OAAO;gBACT;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,GAAG,CAAC,8CAA8C;YAC5D;QACF;QAEA,2BAA2B;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gCACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,QAAQ;YAAE,WAAW;QAAM,GACjC,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,mCAAmC;YACjD,OAAO,EAAE;QACX;QAEA,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,aAAa,6BAA6B,MAAc,EAAE,YAAqB,EAAkC;QAC/G,IAAI,QAAQ,2HAAQ,CACjB,IAAI,CAAC,qCACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,gBAAgB;YAAE,WAAW;QAAM,GACzC,KAAK,CAAC,iBAAiB;YAAE,WAAW;QAAK;QAE5C,IAAI,cAAc;YAChB,QAAQ,MAAM,EAAE,CAAC,iBAAiB;QACpC;QAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAE9B,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,wCAAwC;YACtD,MAAM;QACR;QAEA,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,aAAa,gBAAgB,OAAe,EAAgC;QAC1E,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,SACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iCAAiC;YAC/C,OAAO;QACT;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,aAAa,wBAAwB,MAAc,EAAgC;QACjF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,4CAA4C;YAC1D,OAAO;QACT;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,aAAa,iBAAiB,MAAc,EAAE,OAAe,EAAiC;QAC5F,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,YAAY,SACf,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,kCAAkC;YAChD,OAAO;QACT;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,aAAa,eAAe,MAAc,EAA+B;QACvE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,sMACP,EAAE,CAAC,MAAM,QACT,MAAM;QAET,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,OAAO;QACT;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,aAAa,oBAAoB,MAAc,EAA0B;QACvE,IAAI;YACF,0CAA0C;YAC1C,MAAM,EAAE,MAAM,YAAY,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,2HAAQ,CAC1D,IAAI,CAAC,iBACL,MAAM,CAAC,4CACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,SAAS;gBACX,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,OAAO,EAAE;YACX;YAEA,IAAI,CAAC,gBAAgB,aAAa,MAAM,KAAK,GAAG;gBAC9C,QAAQ,GAAG,CAAC,oCAAoC;gBAChD,OAAO,EAAE;YACX;YAEA,QAAQ,GAAG,CAAC,wBAAwB,aAAa,MAAM;YACvD,QAAQ,GAAG,CAAC,wBAAwB,KAAK,SAAS,CAAC,YAAY,CAAC,EAAE,EAAE,MAAM;YAE1E,wCAAwC;YACxC,MAAM,UAAU;mBAAI,IAAI,IAAI,aAAa,GAAG,CAAC,CAAA,KAAM,AAAC,GAAW,YAAY,EAAE,MAAM,CAAC;aAAU;YAE9F,QAAQ,GAAG,CAAC,qCAAqC;YACjD,QAAQ,GAAG,CAAC,mBAAmB,QAAQ,MAAM;YAE7C,IAAI,QAAQ,MAAM,KAAK,GAAG;gBACxB,QAAQ,IAAI,CAAC;gBACb,QAAQ,GAAG,CAAC,sBAAsB,KAAK,SAAS,CAAC,aAAa,KAAK,CAAC,GAAG,IAAI,MAAM;gBACjF,OAAO,EAAE;YACX;YAEA,mBAAmB;YACnB,MAAM,EAAE,MAAM,KAAK,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,2HAAQ,CACtD,IAAI,CAAC,oBACL,MAAM,CAAC,sBACP,EAAE,CAAC,WAAW;YAEjB,IAAI,YAAY;gBACd,QAAQ,KAAK,CAAC,yBAAyB;gBACvC,OAAO,EAAE;YACX;YAEA,QAAQ,GAAG,CAAC,gBAAgB,OAAO,QAAQ;YAE3C,qBAAqB;YACrB,MAAM,aAAa,IAAI,IAAI,OAAO,IAAI,CAAA,IAAK;oBAAC,EAAE,OAAO;oBAAE,EAAE,SAAS;iBAAC,KAAK,EAAE;YAC1E,QAAQ,GAAG,CAAC,oBAAoB,MAAM,IAAI,CAAC,WAAW,OAAO;YAE7D,kBAAkB;YAClB,MAAM,aAAa,aAAa,GAAG,CAAC,CAAA,KAAM,GAAG,UAAU,EAAE,MAAM,CAAC;YAChE,QAAQ,GAAG,CAAC,yBAAyB;YACrC,QAAQ,GAAG,CAAC,sBAAsB,WAAW,MAAM;YAEnD,sBAAsB;YACtB,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,2HAAQ,CAC5D,IAAI,CAAC,aACL,MAAM,CAAC,mBACP,EAAE,CAAC,MAAM;YAEZ,IAAI,eAAe;gBACjB,QAAQ,KAAK,CAAC,4BAA4B;gBAC1C,OAAO,EAAE;YACX;YAEA,QAAQ,GAAG,CAAC,mBAAmB,UAAU,QAAQ;YAEjD,iCAAiC;YACjC,MAAM,EAAE,MAAM,iBAAiB,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,2HAAQ,CACrE,IAAI,CAAC,oBACL,MAAM,CAAC,0DACP,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,UAAU,aACb,GAAG,CAAC,gBAAgB,MAAM;YAE7B,IAAI,eAAe;gBACjB,QAAQ,KAAK,CAAC,oCAAoC;YACpD;YAEA,wBAAwB;YACxB,MAAM,gBAAgB,IAAI,IAAI,UAAU,IAAI,CAAA,IAAK;oBAAC,EAAE,EAAE;oBAAE;iBAAE,KAAK,EAAE;YACjE,QAAQ,GAAG,CAAC,4BAA4B,cAAc,IAAI;YAC1D,QAAQ,GAAG,CAAC,wBAAwB,MAAM,IAAI,CAAC,cAAc,IAAI;YAEjE,gBAAgB;YAChB,MAAM,WAAW,IAAI;YAErB,QAAQ,GAAG,CAAC,cAAc,aAAa,MAAM,EAAE;YAC/C,IAAI,kBAAkB;YACtB,IAAI,mBAAmB;YAEvB,aAAa,OAAO,CAAC,CAAC;gBACpB,0BAA0B;gBAC1B,MAAM,aAAa,AAAC,GAAW,YAAY;gBAC3C,IAAI,CAAC,YAAY;oBACf;oBACA;gBACF;gBAEA,MAAM,SAAS;gBACf,MAAM,WAAW,WAAW,GAAG,CAAC,WAAW;gBAC3C,MAAM,UAAU,cAAc,GAAG,CAAC,GAAG,UAAU;gBAE/C,IAAI,CAAC,SAAS;oBACZ;oBACA;gBACF;gBAEA,MAAM,mBAAmB,mBAAmB,KAC1C,CAAC,IAAM,EAAE,eAAe,KAAK,GAAG,EAAE,IAAI,EAAE,mBAAmB,KAAK,QAAQ,EAAE;gBAG5E,IAAI,CAAC,SAAS,GAAG,CAAC,SAAS;oBACzB,SAAS,GAAG,CAAC,QAAQ;wBACnB,SAAS;wBACT,WAAW;wBACX,aAAa,GAAG,UAAU;wBAC1B,UAAU,EAAE;wBACZ,gBAAgB;wBAChB,oBAAoB;wBACpB,iBAAiB;oBACnB;gBACF;gBAEA,MAAM,WAAW,SAAS,GAAG,CAAC;gBAC9B,MAAM,gBAA+B;oBACnC,YAAY,QAAQ,EAAE;oBACtB,eAAe,QAAQ,KAAK;oBAC5B,cAAc,QAAQ,IAAI;oBAC1B,aAAa,GAAG,UAAU;oBAC1B,cAAc,kBAAkB,gBAAgB;oBAChD,QAAQ,mBAAmB,cAAc;oBACzC,oBAAoB,kBAAkB,MAAM;gBAC9C;gBAEA,SAAS,QAAQ,CAAC,IAAI,CAAC;gBACvB,SAAS,cAAc;gBACvB,IAAI,kBAAkB;oBACpB,SAAS,kBAAkB;gBAC7B;YACF;YAEA,QAAQ,GAAG,CAAC,kCAAkC;YAC9C,QAAQ,GAAG,CAAC,wCAAwC;YACpD,QAAQ,GAAG,CAAC,mBAAmB,SAAS,IAAI;YAC5C,QAAQ,GAAG,CAAC,mBAAmB,MAAM,IAAI,CAAC,SAAS,IAAI;YAEvD,sCAAsC;YACtC,MAAM,aAAa,MAAM,IAAI,CAAC,SAAS,MAAM,IAAI,GAAG,CAAC,CAAC,OAAS,CAAC;oBAC9D,GAAG,IAAI;oBACP,iBAAiB,KAAK,cAAc,GAAG,IACnC,KAAK,KAAK,CAAC,AAAC,KAAK,kBAAkB,GAAG,KAAK,cAAc,GAAI,OAC7D;gBACN,CAAC;YAED,QAAQ,GAAG,CAAC,sBAAsB,WAAW,MAAM,EAAE;YAErD,qCAAqC;YACrC,OAAO,WAAW,IAAI,CAAC,CAAC,GAAG,IACzB,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,WAAW,EAAE,OAAO;QAEvE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,qCAAqC;YACnD,OAAO,EAAE;QACX;IACF;IAEA;;GAEC,GACD,aAAa,qBAAqB,MAAc,EAA2B;QACzE,IAAI;YACF,8CAA8C;YAC9C,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,2HAAQ,CAC5D,IAAI,CAAC,oBACL,MAAM,CAAC,oBACP,EAAE,CAAC,WAAW,QACd,EAAE,CAAC,UAAU,aACb,GAAG,CAAC,gBAAgB,MAAM;YAE7B,IAAI,eAAe;gBACjB,QAAQ,KAAK,CAAC,oCAAoC;gBAClD,OAAO,EAAE;YACX;YAEA,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;gBACtC,OAAO,EAAE;YACX;YAEA,MAAM,aAAa,SAAS,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;YACzC,MAAM,gBAAgB,IAAI,IAAI,SAAS,GAAG,CAAC,CAAA,IAAK;oBAAC,EAAE,EAAE;oBAAE,EAAE,YAAY;iBAAC;YAEtE,uCAAuC;YACvC,gFAAgF;YAChF,MAAM,EAAE,MAAM,YAAY,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,2HAAQ,CAC5D,IAAI,CAAC,iBACL,MAAM,CAAC,2DACP,EAAE,CAAC,sBAAsB,YACzB,EAAE,CAAC,gBAAgB;YAEtB,IAAI,WAAW;gBACb,QAAQ,KAAK,CAAC,iCAAiC;gBAC/C,OAAO,EAAE;YACX;YAEA,IAAI,CAAC,gBAAgB,aAAa,MAAM,KAAK,GAAG;gBAC9C,OAAO,EAAE;YACX;YAEA,kDAAkD;YAClD,MAAM,gBAAgB;mBAAI,IAAI,IAAI,aAAa,GAAG,CAAC,CAAA,KAAM,GAAG,aAAa,EAAE,MAAM,CAAC;aAAU;YAE5F,+BAA+B;YAC/B,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,cAAc,EAAE,GAAG,MAAM,2HAAQ,CAC9D,IAAI,CAAC,aACL,MAAM,CAAC,YACP,EAAE,CAAC,QAAQ;YAEd,IAAI,gBAAgB;gBAClB,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,kEAAkE;YACpE;YAEA,sCAAsC;YACtC,MAAM,iBAAiB,IAAI,IAAI,WAAW,IAAI,CAAA,IAAK;oBAAC,EAAE,IAAI;oBAAE,EAAE,EAAE;iBAAC,KAAK,EAAE;YAExE,4CAA4C;YAC5C,MAAM,WAAW,IAAI;YAErB,aAAa,OAAO,CAAC,CAAC;gBACpB,IAAI,CAAC,IAAI,aAAa,EAAE;gBAExB,MAAM,eAAe,IAAI,aAAa;gBACtC,MAAM,aAAa,eAAe,GAAG,CAAC,iBAAiB,aAAa,mCAAmC;;gBACvG,MAAM,qBAAqB,cAAc,GAAG,CAAC,IAAI,kBAAkB;gBACnE,IAAI,CAAC,oBAAoB;gBAEzB,MAAM,MAAM,aAAa,2CAA2C;;gBAEpE,mCAAmC;gBACnC,MAAM,SAAS,IAAI,UAAU,IAAI,IAAI,IAAI,GAAG,OAAO,IAAI,UAAU,IAAI,IAAI,IAAI,GAAG;gBAEhF,IAAI,CAAC,SAAS,GAAG,CAAC,MAAM;oBACtB,SAAS,GAAG,CAAC,KAAK;wBAChB,eAAe;wBACf,aAAa;wBACb,gBAAgB;wBAChB,UAAU;wBACV,YAAY;wBACZ,aAAa;wBACb,oBAAoB,IAAI,kBAAkB;oBAC5C;gBACF;gBAEA,MAAM,OAAO,SAAS,GAAG,CAAC;gBAE1B,oBAAoB;gBACpB,MAAM,YAAY,IAAI,UAAU,GAAG,OAAO,IAAI,UAAU,IAAI;gBAC5D,IAAI,aAAa,CAAC,CAAC,KAAK,cAAc,IAAI,YAAY,KAAK,cAAc,GAAG;oBAC1E,KAAK,cAAc,GAAG;oBACtB,KAAK,WAAW,GAAG;oBACnB,KAAK,kBAAkB,GAAG,IAAI,kBAAkB;gBAClD;gBAEA,kBAAkB;gBAClB,IAAI,IAAI,IAAI,IAAI,CAAC,CAAC,KAAK,QAAQ,IAAI,IAAI,IAAI,GAAG,KAAK,QAAQ,GAAG;oBAC5D,KAAK,QAAQ,GAAG,IAAI,IAAI;oBACxB,IAAI,CAAC,KAAK,cAAc,IAAI,cAAc,KAAK,cAAc,EAAE;wBAC7D,KAAK,WAAW,GAAG;wBACnB,KAAK,kBAAkB,GAAG,IAAI,kBAAkB;oBAClD;gBACF;gBAEA,oBAAoB;gBACpB,IAAI,UAAU,CAAC,CAAC,KAAK,UAAU,IAAI,SAAS,KAAK,UAAU,GAAG;oBAC5D,KAAK,UAAU,GAAG;oBAClB,IAAI,CAAC,KAAK,cAAc,IAAI,cAAc,KAAK,cAAc,EAAE;wBAC7D,KAAK,WAAW,GAAG;wBACnB,KAAK,kBAAkB,GAAG,IAAI,kBAAkB;oBAClD;gBACF;YACF;YAEA,OAAO,MAAM,IAAI,CAAC,SAAS,MAAM,IAAI,IAAI,CAAC,CAAC,GAAG,IAC5C,EAAE,aAAa,CAAC,aAAa,CAAC,EAAE,aAAa;QAEjD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,OAAO,EAAE;QACX;IACF;AACF"}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///Users/asfarwaheed/Documents/Disk-A/movewithmoai-webapp/app/coach/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useMemo } from 'react'\nimport { supabase } from '@/lib/supabase'\nimport { CoachService } from '@/lib/services/coachService'\nimport type { ClientMetrics, CoachProfile } from '@/lib/types/coach'\nimport Link from 'next/link'\nimport { Users, MessageSquare, TrendingUp, Calendar, AlertCircle, Search, ArrowUp, ArrowDown, X } from 'lucide-react'\n\ntype SortField = 'name' | 'current_week' | 'overall_rate' | 'workouts' | 'last_activity' | 'status'\ntype SortDirection = 'asc' | 'desc'\n\nexport default function CoachDashboard() {\n  const [clients, setClients] = useState<ClientMetrics[]>([])\n  const [coachProfile, setCoachProfile] = useState<CoachProfile | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [currentCoachId, setCurrentCoachId] = useState<string | null>(null)\n  \n  // Filter and sort state\n  const [searchQuery, setSearchQuery] = useState('')\n  const [filterUnread, setFilterUnread] = useState(false)\n  const [filterPendingVideos, setFilterPendingVideos] = useState(false)\n  const [sortField, setSortField] = useState<SortField>('last_activity')\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc')\n\n  useEffect(() => {\n    loadDashboard()\n  }, [])\n\n  const loadDashboard = async () => {\n    try {\n      const {\n        data: { session },\n        error: sessionError,\n      } = await supabase.auth.getSession()\n\n      if (sessionError) {\n        console.error('Session error:', sessionError)\n        setLoading(false)\n        return\n      }\n\n      if (!session) {\n        window.location.href = '/coach/login'\n        return\n      }\n\n      // Get coach profile\n      const profile = await CoachService.getCoachProfileByUserId(session.user.id)\n      if (!profile) {\n        console.log('No coach profile found for user:', session.user.id)\n        window.location.href = '/'\n        return\n      }\n\n      setCoachProfile(profile)\n      setCurrentCoachId(profile.id)\n\n      // Get clients\n      const clientsData = await CoachService.getClients(profile.id)\n      console.log('Loaded clients:', clientsData.length)\n      setClients(clientsData)\n    } catch (error) {\n      console.error('Error loading dashboard:', error)\n      // Show error to user\n      alert('Error loading dashboard. Please check the console for details.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Filter and sort clients - MUST be called before any early returns\n  const filteredAndSortedClients = useMemo(() => {\n    let filtered = [...clients]\n\n    // Apply search filter\n    if (searchQuery) {\n      const query = searchQuery.toLowerCase()\n      filtered = filtered.filter(\n        (client) =>\n          client.first_name?.toLowerCase().includes(query) ||\n          client.last_name?.toLowerCase().includes(query) ||\n          client.email.toLowerCase().includes(query) ||\n          client.username?.toLowerCase().includes(query)\n      )\n    }\n\n    // Apply status filters\n    if (filterUnread) {\n      filtered = filtered.filter((client) => client.unread_messages_count > 0)\n    }\n    if (filterPendingVideos) {\n      filtered = filtered.filter((client) => client.pending_video_reviews > 0)\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      let aValue: any\n      let bValue: any\n\n      switch (sortField) {\n        case 'name':\n          aValue = `${a.first_name || ''} ${a.last_name || ''}`.trim() || a.email\n          bValue = `${b.first_name || ''} ${b.last_name || ''}`.trim() || b.email\n          break\n        case 'current_week':\n          aValue = a.current_week_completion_rate\n          bValue = b.current_week_completion_rate\n          break\n        case 'overall_rate':\n          aValue = a.overall_completion_rate\n          bValue = b.overall_completion_rate\n          break\n        case 'workouts':\n          aValue = a.total_completed_workouts\n          bValue = b.total_completed_workouts\n          break\n        case 'last_activity':\n          aValue = a.last_message_at\n            ? new Date(a.last_message_at).getTime()\n            : a.last_workout_date\n            ? new Date(a.last_workout_date).getTime()\n            : 0\n          bValue = b.last_message_at\n            ? new Date(b.last_message_at).getTime()\n            : b.last_workout_date\n            ? new Date(b.last_workout_date).getTime()\n            : 0\n          break\n        case 'status':\n          // Sort by priority: unread messages first, then pending videos\n          aValue = (a.unread_messages_count > 0 ? 2 : 0) + (a.pending_video_reviews > 0 ? 1 : 0)\n          bValue = (b.unread_messages_count > 0 ? 2 : 0) + (b.pending_video_reviews > 0 ? 1 : 0)\n          break\n        default:\n          return 0\n      }\n\n      // Handle string comparison\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortDirection === 'asc'\n          ? aValue.localeCompare(bValue)\n          : bValue.localeCompare(aValue)\n      }\n\n      // Handle number comparison\n      if (aValue < bValue) return sortDirection === 'asc' ? -1 : 1\n      if (aValue > bValue) return sortDirection === 'asc' ? 1 : -1\n      return 0\n    })\n\n    return filtered\n  }, [clients, searchQuery, filterUnread, filterPendingVideos, sortField, sortDirection])\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc')\n    } else {\n      setSortField(field)\n      setSortDirection('desc')\n    }\n  }\n\n  const SortIcon = ({ field }: { field: SortField }) => {\n    if (sortField !== field) return null\n    return sortDirection === 'asc' ? (\n      <ArrowUp className=\"h-4 w-4 inline ml-1\" />\n    ) : (\n      <ArrowDown className=\"h-4 w-4 inline ml-1\" />\n    )\n  }\n\n  const totalUnreadMessages = clients.reduce((sum, client) => sum + client.unread_messages_count, 0)\n  const totalPendingVideos = clients.reduce((sum, client) => sum + client.pending_video_reviews, 0)\n  const avgCompletionRate = clients.length > 0\n    ? clients.reduce((sum, client) => sum + client.overall_completion_rate, 0) / clients.length\n    : 0\n\n  // Early return after all hooks have been called\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading dashboard...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <header className=\"bg-white border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Coach Dashboard</h1>\n              <p className=\"text-sm text-gray-600 mt-1\">\n                {coachProfile?.name} â€¢ {clients.length} {clients.length === 1 ? 'client' : 'clients'}\n              </p>\n            </div>\n            <div className=\"flex items-center gap-4\">\n              {totalUnreadMessages > 0 && (\n                <div className=\"flex items-center gap-2 text-orange-600\">\n                  <MessageSquare className=\"h-5 w-5\" />\n                  <span className=\"font-medium\">{totalUnreadMessages} unread</span>\n                </div>\n              )}\n              {totalPendingVideos > 0 && (\n                <div className=\"flex items-center gap-2 text-blue-600\">\n                  <AlertCircle className=\"h-5 w-5\" />\n                  <span className=\"font-medium\">{totalPendingVideos} videos</span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Stats Overview */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Total Clients</p>\n                <p className=\"text-2xl font-bold text-gray-900 mt-1\">{clients.length}</p>\n              </div>\n              <Users className=\"h-8 w-8 text-blue-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Avg Completion Rate</p>\n                <p className=\"text-2xl font-bold text-gray-900 mt-1\">{avgCompletionRate.toFixed(1)}%</p>\n              </div>\n              <TrendingUp className=\"h-8 w-8 text-green-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Unread Messages</p>\n                <p className=\"text-2xl font-bold text-gray-900 mt-1\">{totalUnreadMessages}</p>\n              </div>\n              <MessageSquare className=\"h-8 w-8 text-orange-600\" />\n            </div>\n          </div>\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm font-medium text-gray-600\">Pending Videos</p>\n                <p className=\"text-2xl font-bold text-gray-900 mt-1\">{totalPendingVideos}</p>\n              </div>\n              <AlertCircle className=\"h-8 w-8 text-blue-600\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Clients List */}\n        <div className=\"bg-white rounded-lg shadow\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold text-gray-900\">Clients</h2>\n              <div className=\"text-sm text-gray-500\">\n                Showing {filteredAndSortedClients.length} of {clients.length}\n              </div>\n            </div>\n            \n            {/* Search and Filters */}\n            <div className=\"flex flex-wrap gap-4 items-center\">\n              {/* Search */}\n              <div className=\"relative flex-1 min-w-[200px]\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search clients...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                {searchQuery && (\n                  <button\n                    onClick={() => setSearchQuery('')}\n                    className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600\"\n                  >\n                    <X className=\"h-4 w-4\" />\n                  </button>\n                )}\n              </div>\n\n              {/* Filter Buttons */}\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => setFilterUnread(!filterUnread)}\n                  className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                    filterUnread\n                      ? 'bg-orange-100 text-orange-800 border border-orange-300'\n                      : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                  }`}\n                >\n                  <MessageSquare className=\"h-4 w-4 inline mr-1\" />\n                  Unread Messages\n                </button>\n                <button\n                  onClick={() => setFilterPendingVideos(!filterPendingVideos)}\n                  className={`px-4 py-2 rounded-md text-sm font-medium transition-colors ${\n                    filterPendingVideos\n                      ? 'bg-blue-100 text-blue-800 border border-blue-300'\n                      : 'bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200'\n                  }`}\n                >\n                  <AlertCircle className=\"h-4 w-4 inline mr-1\" />\n                  Pending Videos\n                </button>\n                {(filterUnread || filterPendingVideos || searchQuery) && (\n                  <button\n                    onClick={() => {\n                      setFilterUnread(false)\n                      setFilterPendingVideos(false)\n                      setSearchQuery('')\n                    }}\n                    className=\"px-4 py-2 rounded-md text-sm font-medium bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200\"\n                  >\n                    <X className=\"h-4 w-4 inline mr-1\" />\n                    Clear Filters\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('name')}\n                  >\n                    Client <SortIcon field=\"name\" />\n                  </th>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('current_week')}\n                  >\n                    Current Week <SortIcon field=\"current_week\" />\n                  </th>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('overall_rate')}\n                  >\n                    Overall Rate <SortIcon field=\"overall_rate\" />\n                  </th>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('workouts')}\n                  >\n                    Workouts <SortIcon field=\"workouts\" />\n                  </th>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('last_activity')}\n                  >\n                    Last Activity <SortIcon field=\"last_activity\" />\n                  </th>\n                  <th\n                    className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 select-none\"\n                    onClick={() => handleSort('status')}\n                  >\n                    Status <SortIcon field=\"status\" />\n                  </th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredAndSortedClients.length === 0 ? (\n                  <tr>\n                    <td colSpan={7} className=\"px-6 py-8 text-center text-gray-500\">\n                      {clients.length === 0\n                        ? 'No clients found'\n                        : 'No clients match your filters'}\n                    </td>\n                  </tr>\n                ) : (\n                  filteredAndSortedClients.map((client) => (\n                    <tr key={client.user_id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden\">\n                            {client.profile_picture_url ? (\n                              <img\n                                src={client.profile_picture_url}\n                                alt={client.first_name || 'Client'}\n                                className=\"h-full w-full object-cover\"\n                              />\n                            ) : (\n                              <span className=\"text-gray-600 font-medium\">\n                                {(client.first_name?.[0] || client.email[0]).toUpperCase()}\n                              </span>\n                            )}\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">\n                              {client.first_name && client.last_name\n                                ? `${client.first_name} ${client.last_name}`\n                                : client.username || client.email}\n                            </div>\n                            <div className=\"text-sm text-gray-500\">{client.email}</div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          {client.current_week_completed}/{client.current_week_commitment}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {client.current_week_completion_rate}%\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {client.overall_completion_rate}%\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          {client.total_completed_sessions}/{client.total_commitment_count}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {client.total_completed_workouts}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {client.last_message_at\n                          ? new Date(client.last_message_at).toLocaleDateString()\n                          : client.last_workout_date\n                          ? new Date(client.last_workout_date).toLocaleDateString()\n                          : 'Never'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center gap-2\">\n                          {client.unread_messages_count > 0 && (\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800\">\n                              {client.unread_messages_count} unread\n                            </span>\n                          )}\n                          {client.pending_video_reviews > 0 && (\n                            <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                              {client.pending_video_reviews} videos\n                            </span>\n                          )}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                        <Link\n                          href={`/coach/clients/${client.user_id}`}\n                          className=\"text-blue-600 hover:text-blue-900\"\n                        >\n                          View Details\n                        </Link>\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}