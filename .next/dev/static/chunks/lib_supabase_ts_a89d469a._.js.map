{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/asfarwaheed/Documents/Disk-A/movewithmoai-webapp/lib/supabase.ts"],"sourcesContent":["import { createClient, SupabaseClient } from '@supabase/supabase-js'\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'https://klvosnnkhofhqkwwehev.supabase.co'\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtsdm9zbm5raG9maHFrd3dlaGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5MTY3MTgsImV4cCI6MjA3MjQ5MjcxOH0.C6TOPCx3sasiZj1ST3LHTnYOAnzSrcpcQSyEXfFqZlY'\n\n// Lazy initialization to avoid SSR issues\nlet supabaseInstance: SupabaseClient | null = null\n\nfunction createSupabaseClient(): SupabaseClient {\n  // Safe check for browser environment\n  const isBrowser = typeof window !== 'undefined'\n  \n  return createClient(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      autoRefreshToken: true,\n      persistSession: isBrowser,\n      detectSessionInUrl: isBrowser,\n      // Only use localStorage in browser - this check prevents SSR errors\n      storage: isBrowser ? window.localStorage : undefined,\n    },\n    realtime: {\n      params: {\n        eventsPerSecond: 10,\n      },\n    },\n  })\n}\n\n// Lazy getter - only creates client when first accessed (not at module load)\nfunction getSupabaseClient(): SupabaseClient {\n  if (!supabaseInstance) {\n    supabaseInstance = createSupabaseClient()\n  }\n  return supabaseInstance\n}\n\n// Use Object.defineProperty to create a lazy getter that only initializes when accessed\n// This prevents the client from being created during SSR module evaluation\nexport const supabase = (() => {\n  // Create a proxy that lazily initializes the client\n  return new Proxy({} as SupabaseClient, {\n    get(_target, prop) {\n      const client = getSupabaseClient()\n      const value = (client as any)[prop]\n      // If it's a function, bind it to the client\n      if (typeof value === 'function') {\n        return value.bind(client)\n      }\n      return value\n    },\n  })\n})()\n\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,2KAAO,CAAC,GAAG,CAAC,6BAA6B,IAAI;AAErE,0CAA0C;AAC1C,IAAI,mBAA0C;AAE9C,SAAS;IACP,qCAAqC;IACrC,MAAM,YAAY,+CAAkB;IAEpC,OAAO,IAAA,0LAAY,EAAC,aAAa,iBAAiB;QAChD,MAAM;YACJ,kBAAkB;YAClB,gBAAgB;YAChB,oBAAoB;YACpB,oEAAoE;YACpE,SAAS,uCAAY,OAAO,YAAY,GAAG;QAC7C;QACA,UAAU;YACR,QAAQ;gBACN,iBAAiB;YACnB;QACF;IACF;AACF;AAEA,6EAA6E;AAC7E,SAAS;IACP,IAAI,CAAC,kBAAkB;QACrB,mBAAmB;IACrB;IACA,OAAO;AACT;AAIO,MAAM,WAAW,CAAC;IACvB,oDAAoD;IACpD,OAAO,IAAI,MAAM,CAAC,GAAqB;QACrC,KAAI,OAAO,EAAE,IAAI;YACf,MAAM,SAAS;YACf,MAAM,QAAQ,AAAC,MAAc,CAAC,KAAK;YACnC,4CAA4C;YAC5C,IAAI,OAAO,UAAU,YAAY;gBAC/B,OAAO,MAAM,IAAI,CAAC;YACpB;YACA,OAAO;QACT;IACF;AACF,CAAC"}}]
}